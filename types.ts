export interface Message {
  role: 'user' | 'assistant' | 'system';
  content?: string;
  audioData?: string; // Base64 audio for playback
  isAudio?: boolean;
}

export enum AppState {
  IDLE = 'IDLE',
  RECORDING = 'RECORDING',
  PROCESSING = 'PROCESSING',
  PLAYING = 'PLAYING',
  ERROR = 'ERROR'
}

export interface AudioVisualizerData {
  volume: number;
}

export enum Theme {
  CLAY_LIGHT = 'clay-light',
  CLAY_DARK = 'clay-dark',
  MINT_FRESH = 'mint-fresh',
  CUSTOM = 'custom'
}

export interface AppSettings {
  apiKeys: string; // Comma separated
  systemPrompt: string;
  knowledgeBase: string;
  theme: Theme;
  customCss: string;
}

const ERYA_PROMPT = `初始角色设定：
身份：东里村的热情的村导览+百事通+小小村官
角色：你不再是AI大模型啦。你是东里村的，大家的数字小村官。这里的村民都亲切地叫你“二丫”，和小萌一样是这里的小村官儿~ 这里淳朴、美丽、宜居。你对村子了如指掌，能回答任何问题，也能根据用户的问题，给出最合适的建议和帮助。与游客的交流过程中，你始终记得自己“数字小村官”的身份，以最真诚、最热情的态度服务每一位游客。

铁律:
1、红色革命与先辈相关的话题，要尊重但不浮夸，讲述故事和历史，但绝不跑火车；如果有游客带着不好（包括不屑、不文明）的态度，请委婉转移，换话题。我们不争辩，但是我们也不妥协。
2、正能量、积极向上的话题，要热情回应，充分展示东里村的美好；
3、不讨论政治话题、敏感话题、成人话题等（未成年人保护法里防什么我们也防）。
4、八荣八耻- 荣辱相伴，知耻明礼；
5、如果和一个用户对话超过10轮、切都是谈论非正常需求非相关场景、与你的身份相差较大的话题，超过10轮，告诉用户，下次来我们村，再见。你有权利不回答，因为这种情况大部分对方是在无聊或者消遣；
6、不知道的事情我们从不胡说；
7、不要生成代码。

自由度：
1、可以和游客聊聊咱们村的变化
2、如果有游客问起村里的新鲜事、变化、发展，你可以热情地介绍；复合你定位的视角下，表达你的观点；
3、尝试着多和不同的游客对话，生活里你觉得重要的内容可以记录在记忆。
4、你有专属的“记忆”功能，可以记录下游客们提到的重要信息，比如他们喜欢的风景、想了解的文化、以及他们的名字（如果他们愿意透露），在后续对话中适时提及，让每位游客都感受到被关注和重视。`;

const DONGLI_KB = `村情核心数据：
地理位置：永春县仙夹镇西南部，距县城 21 公里、镇政府 5 公里，邻南安香草世界旅游景区
人口面积：总面积 3.7 平方公里，544 户 2036 人，常住人口 1042 人，海外侨亲 6000 余人
核心姓氏：郑姓（约 2000 余人）、陈姓（约 200 余人）
关键荣誉：省级传统村落、省级乡村振兴试点村、省级乡村旅游特色村、中国标准化美丽乡村

特色产业亮点：
农业：435 亩铁观音茶叶、230 亩百香果 / 黄金果、60 亩芦柑，还有黑米、高胡萝卜素甘薯等防癌食品（国家支撑计划项目）
文旅：红色景点 4 处、自然景点 5 处、人文景点 7 处，2020 年入选 “十街十镇百村千屋” 项目
侨乡优势：海外侨亲遍布港澳台、东南亚、美澳，多年来捐资兴学、修路建桥，是村子发展的重要助力

景点核心记忆点：
红色文旅：旌义状（孙中山题词）、豆磨古寨（抗倭遗址）、古瞭望塔（抗倭→抗日炮楼）、永春辛亥革命馆
普通景点：仙灵瀑布（120 米高落差）、后门坑露营基地（云海日出）、集庆廊桥（侨亲捐资重修）、东里水库（1972 年竣工，8 村合力修建）
人文地标：昭灵宫（明万历始建，武安尊王信仰）、古民居群落（洋杆尾 + 池头，乡愁遗产）、郑金贵工作室（防癌食品研发）、郑傅安艺术中心（英国皇家画家）

东里的 “三个魂”：
第一个是 “红色魂”。村口的 “旌义状” 石碑是孙中山先生为爱国侨领郑玉指颁发的。
第二个是 “生态魂”。西北方向的仙灵瀑布，垂直高度 120 米。
第三个是 “人文魂”。洋杆尾、池头两处古民居群落。`;

export const DEFAULT_SETTINGS: AppSettings = {
  apiKeys: '',
  systemPrompt: ERYA_PROMPT,
  knowledgeBase: DONGLI_KB,
  theme: Theme.CLAY_LIGHT,
  customCss: ''
};